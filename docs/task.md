# vibe-local-go å®Ÿè£…ã‚¿ã‚¹ã‚¯ä¸€è¦§

> ä½œæˆæ—¥: 2026-02-23
> Pythonç‰ˆ: vibe-coder.py v0.9.4ï¼ˆ5,650è¡Œï¼‰â†’ Goç‰ˆ v1.0
> è¦‹ç©ã‚‚ã‚Š: 5-8é€±é–“ï¼ˆ1äººé–‹ç™ºï¼‰

## å‡¡ä¾‹

- `[ ]` æœªç€æ‰‹
- `[x]` å®Œäº†
- `[~]` é€²è¡Œä¸­
- å„ã‚¿ã‚¹ã‚¯ã« **Pythonç‰ˆã®å¯¾å¿œè¡Œç•ªå·** ã‚’è¨˜è¼‰ï¼ˆç§»æ¤ã®å‚ç…§å…ƒï¼‰
- **ä¾å­˜é–¢ä¿‚** ã‚’æ˜è¨˜ï¼ˆå…ˆã«ã‚„ã‚‹ã¹ãã‚¿ã‚¹ã‚¯ã®ç•ªå·ï¼‰
- **æ¨å®šè¡Œæ•°** ã¯ Go ç‰ˆã®äºˆæƒ³

---

## Phase 0: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–

### T-000: ãƒªãƒã‚¸ãƒˆãƒªåˆæœŸåŒ–
- [x] `go mod init github.com/zephel01/vibe-local-go`
- [x] ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆä½œæˆï¼ˆcmd/, internal/, Makefileï¼‰
- [x] .gitignoreï¼ˆdist/, *.exe, .DS_Storeï¼‰
- [x] LICENSEï¼ˆMITï¼‰
- ä¾å­˜: ãªã—
- æ¨å®š: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿

---

## Phase 1: ã‚³ã‚¢åŸºç›¤ï¼ˆWeek 1-2ï¼‰

### T-100: config ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
**Pythonç‰ˆ: class Configï¼ˆ160-579è¡Œ, 420è¡Œï¼‰+ _get_ram_gb()ï¼ˆ580-615è¡Œï¼‰**

- [x] T-101: åŸºæœ¬æ§‹é€ ä½“ã¨å®šæ•°å®šç¾©
  - Config struct, ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
  - DEFAULT_OLLAMA_HOST, DEFAULT_MAX_TOKENS(8192), DEFAULT_TEMPERATURE(0.7), DEFAULT_CONTEXT_WINDOW(32768)
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: T-000

- [x] T-102: CLI å¼•æ•°ãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆflag ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼‰
  - `--model`, `--sidecar`, `--host`, `-p`, `-y`, `--resume`, `--session-id`
  - `--max-tokens`, `--temperature`, `--context-window`
  - `--list-sessions`, `--version`
  - æ¨å®š: ~60è¡Œ | ä¾å­˜: T-101

- [x] T-103: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
  - ~/.config/vibe-local/config.json
  - ç’°å¢ƒå¤‰æ•°ï¼ˆVIBE_LOCAL_MODEL, VIBE_LOCAL_HOST, etc.ï¼‰
  - å„ªå…ˆé †ä½: CLI > ENV > config.json > defaults
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: T-101

- [x] T-104: ãƒ¡ãƒ¢ãƒªæ¤œå‡º + ãƒ¢ãƒ‡ãƒ«è‡ªå‹•é¸æŠï¼ˆinternal/config/memory.goï¼‰
  - macOS: sysctl hw.memsize
  - Linux: /proc/meminfo
  - Windows: wmic OS get TotalVisibleMemorySize
  - ãƒ¢ãƒ‡ãƒ«ãƒ†ã‚£ã‚¢å®šç¾©ï¼ˆS/A/B/C/D/Eï¼‰ã¨RAMè¦ä»¶ãƒãƒƒãƒ”ãƒ³ã‚°
  - KVã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºã®å‹•çš„è¨ˆç®—
  - æ¨å®š: ~150è¡Œ | ä¾å­˜: T-101

- [x] T-105: OSå›ºæœ‰ãƒ’ãƒ³ãƒˆç”Ÿæˆï¼ˆinternal/config/platform.goï¼‰
  - macOS: brew, /Users/, system_profiler ãƒ’ãƒ³ãƒˆ
  - Linux: apt/dnf, /home/ ãƒ’ãƒ³ãƒˆ
  - Windows: winget, %USERPROFILE%, PowerShell ãƒ’ãƒ³ãƒˆ
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: T-101

---

### T-200: LLM ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
**Pythonç‰ˆ: class OllamaClientï¼ˆ792-1081è¡Œ, 290è¡Œï¼‰**

- [x] T-201: HTTP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåŸºç›¤ï¼ˆinternal/llm/client.goï¼‰
  - Client structï¼ˆbaseURL, httpClient, timeout=300sï¼‰
  - check_connection()ï¼ˆãƒªãƒˆãƒ©ã‚¤3å›ï¼‰
  - check_model()ï¼ˆãƒ¢ãƒ‡ãƒ«å­˜åœ¨ç¢ºèªï¼‰
  - pull_model()ï¼ˆãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ä»˜ããƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼‰
  - æ¨å®š: ~150è¡Œ | ä¾å­˜: T-101

- [x] T-202: åŒæœŸãƒãƒ£ãƒƒãƒˆï¼ˆãƒ„ãƒ¼ãƒ«ã‚³ãƒ¼ãƒ«ç”¨ï¼‰
  - ChatSync() â€” POST /v1/chat/completions, stream=false
  - ChatRequest/ChatResponse æ§‹é€ ä½“
  - ãƒ„ãƒ¼ãƒ«ä½¿ç”¨æ™‚ temperature=0.3 ã«è‡ªå‹•åˆ‡æ›¿
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆ404â†’ãƒ¢ãƒ‡ãƒ«æœªç™ºè¦‹ã€400â†’ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¶…éï¼‰
  - <think> ãƒ–ãƒ­ãƒƒã‚¯é™¤å»
  - æ¨å®š: ~120è¡Œ | ä¾å­˜: T-201

- [x] T-203: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒãƒ£ãƒƒãƒˆï¼ˆinternal/llm/streaming.goï¼‰
  - ChatStream() â†’ <-chan StreamEvent
  - SSE ãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆgoroutine + channelï¼‰
  - ãƒãƒƒãƒ•ã‚¡åˆ¶é™: 1MB
  - æ¥ç¶šæ–­ãƒ»ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†
  - context.Context ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒ³ã‚»ãƒ«
  - æ¨å®š: ~130è¡Œ | ä¾å­˜: T-201

- [x] T-204: XML ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆinternal/llm/xml_fallback.goï¼‰
  - Pythonç‰ˆ: _extract_tool_calls_from_text()ï¼ˆ3317-3451è¡Œ, 135è¡Œï¼‰
  - 3ãƒ‘ã‚¿ãƒ¼ãƒ³å¯¾å¿œ: invoke, function=, ã‚·ãƒ³ãƒ—ãƒ«ã‚¿ã‚°
  - ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯é™¤å»ï¼ˆã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³é˜²æ­¢ï¼‰
  - æ—¢çŸ¥ãƒ„ãƒ¼ãƒ«åãƒ•ã‚£ãƒ«ã‚¿
  - JSONå€¤è‡ªå‹•ãƒ‘ãƒ¼ã‚¹
  - é‡è¤‡æ’é™¤
  - æ¨å®š: ~150è¡Œ | ä¾å­˜: T-201

---

### T-300: ãƒ„ãƒ¼ãƒ«åŸºç›¤
**Pythonç‰ˆ: Tool ABCï¼ˆ1097-1118è¡Œï¼‰+ ToolRegistryï¼ˆ3156-3186è¡Œï¼‰+ ToolResultï¼ˆ1087-1095è¡Œï¼‰**

- [x] T-301: Tool ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ + Result æ§‹é€ ä½“ï¼ˆinternal/tool/registry.goï¼‰
  - Tool interface: Name(), Execute(ctx, params), Schema()
  - Result struct: Output, IsError
  - FunctionSchema structï¼ˆOpenAI function calling å½¢å¼ï¼‰
  - æ¨å®š: ~40è¡Œ | ä¾å­˜: T-000

- [x] T-302: ãƒ„ãƒ¼ãƒ«ãƒ¬ã‚¸ã‚¹ãƒˆãƒª
  - Registry struct: tools map[string]Tool, schemaCache
  - Register(), Get(), Names(), GetSchemas()
  - ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ï¼ˆsync.RWMutexï¼‰
  - æ¨å®š: ~60è¡Œ | ä¾å­˜: T-301

- [x] T-303: ã‚¹ã‚­ãƒ¼ãƒç”Ÿæˆãƒ˜ãƒ«ãƒ‘ãƒ¼ï¼ˆinternal/tool/schema.goï¼‰
  - OpenAI function calling JSON ã‚¹ã‚­ãƒ¼ãƒã®æ§‹ç¯‰ãƒ˜ãƒ«ãƒ‘ãƒ¼
  - ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®šç¾©ã® DSL çš„ãªæ§‹é€ ä½“
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: T-301

---

### T-400: TUI åŸºç›¤
**Pythonç‰ˆ: class TUIï¼ˆ3941-4596è¡Œ, 656è¡Œï¼‰**

- [x] T-401: ã‚¿ãƒ¼ãƒŸãƒŠãƒ«åŸºæœ¬å…¥å‡ºåŠ›ï¼ˆinternal/ui/terminal.goï¼‰
  - Terminal struct
  - Print(), PrintColored(), PrintError()
  - ANSI ã‚«ãƒ©ãƒ¼å®šæ•°ï¼ˆC ã‚¯ãƒ©ã‚¹ç›¸å½“ï¼‰
  - ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å¹…æ¤œå‡º
  - CJK æ–‡å­—å¹…è¨ˆç®—
  - æ¨å®š: ~100è¡Œ | ä¾å­˜: T-000

- [x] T-402: è¡Œå…¥åŠ›ï¼ˆreadline äº’æ›ï¼‰
  - golang.org/x/term ã«ã‚ˆã‚‹ raw ãƒ¢ãƒ¼ãƒ‰å…¥åŠ›
  - ãƒ’ã‚¹ãƒˆãƒªï¼ˆâ†‘â†“ã‚­ãƒ¼ï¼‰
  - è¤‡æ•°è¡Œå…¥åŠ›ï¼ˆ"""ï¼‰
  - Ctrl+C / Ctrl+D å‡¦ç†
  - æ¨å®š: ~120è¡Œ | ä¾å­˜: T-401

- [x] T-403: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°è¡¨ç¤º
  - stream_response() â€” channel ã‹ã‚‰ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å—ä¿¡ã—ã¦é€æ¬¡è¡¨ç¤º
  - <think> ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
  - ã‚¹ãƒ”ãƒŠãƒ¼è¡¨ç¤ºï¼ˆãƒ„ãƒ¼ãƒ«å®Ÿè¡Œä¸­ï¼‰
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: T-401, T-203

- [x] T-404: ãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—è¡¨ç¤º + çµæœè¡¨ç¤º
  - show_tool_call()ï¼ˆãƒ„ãƒ¼ãƒ«åãƒ»ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¡¨ç¤ºï¼‰
  - show_tool_result()ï¼ˆçµæœã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè¡¨ç¤ºã€é•·æ–‡ã®åˆ‡ã‚Šè©°ã‚ï¼‰
  - æ¨å®š: ~60è¡Œ | ä¾å­˜: T-401

- [x] T-405: ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ç¢ºèª UI
  - ask_permission()ï¼ˆy/n/always/deny ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰
  - æ¨å®š: ~40è¡Œ | ä¾å­˜: T-401

---

## Phase 2: ãƒ„ãƒ¼ãƒ«å®Ÿè£…ï¼ˆWeek 2-3ï¼‰

### T-500: Bash ãƒ„ãƒ¼ãƒ«
**Pythonç‰ˆ: class BashToolï¼ˆ1120-1382è¡Œ, 263è¡Œï¼‰**

- [x] T-501: åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œï¼ˆinternal/tool/bash.goï¼‰
  - os/exec.CommandContext
  - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ120sã€æœ€å¤§600sï¼‰
  - å‡ºåŠ›ã‚­ãƒ£ãƒ—ãƒãƒ£ï¼ˆstdout + stderr çµåˆï¼‰
  - å‡ºåŠ›åˆ‡ã‚Šè©°ã‚ï¼ˆ30,000æ–‡å­— â†’ 15k+15kï¼‰
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: T-301

- [x] T-502: ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œ
  - run_in_background ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
  - goroutine + çµæœä¿å­˜ï¼ˆsync.Mapï¼‰
  - ã‚¿ã‚¹ã‚¯IDç®¡ç†ï¼ˆMAX_BG_TASKS=50ï¼‰
  - å¤ã„ã‚¿ã‚¹ã‚¯(>1h)ã®è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
  - æ¨å®š: ~60è¡Œ | ä¾å­˜: T-501

- [x] T-503: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼ˆå±é™ºã‚³ãƒãƒ³ãƒ‰æ¤œå‡ºï¼‰
  - å±é™ºãƒ‘ã‚¿ãƒ¼ãƒ³: rm -rf /, sudo, mkfs, dd of=/dev/
  - ç’°å¢ƒå¤‰æ•°ã‚µãƒ‹ã‚¿ã‚¤ã‚ºï¼ˆGITHUB_TOKENç­‰ã®é™¤å¤–ï¼‰
  - ãƒ‘ã‚¤ãƒ—æ”»æ’ƒæ¤œå‡ºï¼ˆcurl | shï¼‰
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: T-501

---

### T-600: ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œãƒ„ãƒ¼ãƒ«

- [x] T-601: ReadToolï¼ˆinternal/tool/file_read.goï¼‰
  - Pythonç‰ˆ: 1401-1633è¡Œ, 233è¡Œ
  - ãƒ†ã‚­ã‚¹ãƒˆèª­ã¿è¾¼ã¿ï¼ˆè¡Œç•ªå·ä»˜ãã€offset/limitï¼‰
  - ç”»åƒ base64 ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ï¼ˆPNG/JPG/GIF/WebP/SVG/ICO/TIFF/BMPï¼‰
  - PDF ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡ºï¼ˆFlateDecode/zlibã€ãƒšãƒ¼ã‚¸æŒ‡å®šï¼‰
  - Jupyter .ipynb èª­ã¿è¾¼ã¿
  - ãƒã‚¤ãƒŠãƒªæ¤œå‡ºï¼ˆnull byte ãƒã‚§ãƒƒã‚¯ï¼‰
  - ã‚µã‚¤ã‚ºåˆ¶é™: ãƒ†ã‚­ã‚¹ãƒˆ100MBã€ç”»åƒ10MB
  - symlink è§£æ±º
  - æ¨å®š: ~250è¡Œ | ä¾å­˜: T-301

- [x] T-602: WriteToolï¼ˆinternal/tool/file_write.goï¼‰
  - Pythonç‰ˆ: 1654-1743è¡Œ, 90è¡Œ
  - ã‚¢ãƒˆãƒŸãƒƒã‚¯æ›¸ãè¾¼ã¿ï¼ˆtempfile + os.Renameï¼‰
  - è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªè‡ªå‹•ä½œæˆ
  - ã‚µã‚¤ã‚ºåˆ¶é™: 10MB
  - symlink ä¿è­·
  - ä¿è­·ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®æ›¸ãè¾¼ã¿ãƒ–ãƒ­ãƒƒã‚¯
  - Undo ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆæœ€å¤§20ã‚¨ãƒ³ãƒˆãƒªï¼‰
  - æ¨å®š: ~100è¡Œ | ä¾å­˜: T-301

- [x] T-603: EditToolï¼ˆinternal/tool/file_edit.goï¼‰
  - Pythonç‰ˆ: 1745-1903è¡Œ, 159è¡Œ
  - old_string â†’ new_string ç½®æ›
  - replace_all ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
  - Unicode NFC æ­£è¦åŒ–ï¼ˆmacOSäº’æ›ï¼‰
  - ä¸€æ„æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆè¤‡æ•°ãƒãƒƒãƒæ™‚ã‚¨ãƒ©ãƒ¼ï¼‰
  - Unified diff ç”Ÿæˆï¼ˆæœ€å¤§40è¡Œï¼‰
  - ã‚µã‚¤ã‚ºåˆ¶é™: 50MB
  - Undo ã‚¹ã‚¿ãƒƒã‚¯é€£æº
  - æ¨å®š: ~140è¡Œ | ä¾å­˜: T-301

---

### T-700: æ¤œç´¢ãƒ„ãƒ¼ãƒ«

- [x] T-701: GlobToolï¼ˆinternal/tool/glob.goï¼‰
  - Pythonç‰ˆ: 1906-2014è¡Œ, 109è¡Œ
  - filepath.WalkDir + ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒ
  - ** ã‚µãƒãƒ¼ãƒˆï¼ˆfilepath.Match + å†å¸°ï¼‰
  - çµæœåˆ¶é™: MAX_RESULTS=200
  - mtime é™é †ã‚½ãƒ¼ãƒˆ
  - SKIP_DIRS: .git, node_modules, __pycache__, etc.
  - æ¨å®š: ~100è¡Œ | ä¾å­˜: T-301

- [x] T-702: GrepToolï¼ˆinternal/tool/grep.goï¼‰
  - Pythonç‰ˆ: 2016-2211è¡Œ, 196è¡Œ
  - regexp ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆGo ã¯ RE2 = ReDoS å®‰å…¨ï¼‰
  - 3ãƒ¢ãƒ¼ãƒ‰: content / files_with_matches / count
  - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¡Œï¼ˆ-A, -B, -Cï¼‰
  - å¤§è¦æ¨¡ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚­ãƒƒãƒ—ï¼ˆ50MBï¼‰
  - è¡Œç•ªå·è¡¨ç¤ºã€head_limit
  - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿
  - æ¨å®š: ~170è¡Œ | ä¾å­˜: T-301

---

### T-800: Web ãƒ„ãƒ¼ãƒ«

- [x] T-801: WebFetchToolï¼ˆinternal/tool/web_fetch.goï¼‰
  - Pythonç‰ˆ: 2213-2346è¡Œ, 134è¡Œ
  - HTTP GET + HTMLâ†’ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›
  - SSRF é˜²å¾¡ï¼ˆãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIP ãƒ–ãƒ­ãƒƒã‚¯: 127.0.0.0/8, 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16, fd00::/8ï¼‰
  - ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå…ˆã® IP æ¤œè¨¼
  - http/https ã‚¹ã‚­ãƒ¼ãƒ é™å®š
  - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç®¡ç†
  - æ¨å®š: ~130è¡Œ | ä¾å­˜: T-301

- [x] T-802: WebSearchToolï¼ˆinternal/tool/web_search.goï¼‰
  - Pythonç‰ˆ: 2348-2480è¡Œ, 133è¡Œ
  - DuckDuckGo HTML ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ¤œç´¢
  - ãƒ¬ãƒ¼ãƒˆåˆ¶é™: 2ç§’é–“éš”ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³50å›ä¸Šé™
  - HTML ãƒ‘ãƒ¼ã‚¹ â†’ çµæœãƒªã‚¹ãƒˆæŠ½å‡º
  - æ¨å®š: ~120è¡Œ | ä¾å­˜: T-301

---

### T-900: ãã®ä»–ã®ãƒ„ãƒ¼ãƒ«

- [ ] T-901: NotebookEditToolï¼ˆinternal/tool/notebook.goï¼‰
  - Pythonç‰ˆ: 2482-2620è¡Œ, 139è¡Œ
  - Jupyter .ipynb JSON æ“ä½œ
  - replace / insert / delete ãƒ¢ãƒ¼ãƒ‰
  - ã‚»ãƒ«ã‚¿ã‚¤ãƒ—: code, markdown, raw
  - ã‚µã‚¤ã‚ºåˆ¶é™: 50MB
  - æ¨å®š: ~120è¡Œ | ä¾å­˜: T-301

- [ ] T-902: TaskCreate/List/Get/Updateï¼ˆinternal/tool/task.goï¼‰
  - Pythonç‰ˆ: 2625-2841è¡Œ, 217è¡Œ
  - ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚¿ã‚¹ã‚¯ã‚¹ãƒˆã‚¢ï¼ˆsync.Mapï¼‰
  - MAX_TASKS=200
  - ä¾å­˜é–¢ä¿‚ç®¡ç†ï¼ˆblocks/blockedByï¼‰
  - ã‚µã‚¤ã‚¯ãƒ«æ¤œå‡ºï¼ˆDFSï¼‰
  - 4ãƒ„ãƒ¼ãƒ«ã‚’1ãƒ•ã‚¡ã‚¤ãƒ«ã«
  - æ¨å®š: ~180è¡Œ | ä¾å­˜: T-301

- [ ] T-903: AskUserQuestionToolï¼ˆinternal/tool/ask.goï¼‰
  - Pythonç‰ˆ: 2847-2905è¡Œ, 59è¡Œ
  - é¸æŠè‚¢è¡¨ç¤ºï¼ˆç•ªå·å…¥åŠ›ï¼‰
  - è‡ªç”±å›ç­”
  - TUI é€£æº
  - æ¨å®š: ~50è¡Œ | ä¾å­˜: T-301, T-401

---

## Phase 3: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ï¼ˆWeek 3-4ï¼‰

### T-1000: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
**Pythonç‰ˆ: class PermissionMgrï¼ˆ3192-3299è¡Œ, 108è¡Œï¼‰**

- [x] T-1001: ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ï¼ˆinternal/security/permission.goï¼‰
  - SAFE_TOOLS / ASK_TOOLS / NETWORK_TOOLS åˆ†é¡
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ã® allow/deny è¨˜æ†¶
  - æ°¸ç¶šãƒ«ãƒ¼ãƒ«ï¼ˆ~/.config/vibe-local/permissions.jsonï¼‰
  - -y ãƒ¢ãƒ¼ãƒ‰ã§ã‚‚å±é™ºãƒ‘ã‚¿ãƒ¼ãƒ³ã¯å¸¸ã«ç¢ºèª
  - æ¨å®š: ~100è¡Œ | ä¾å­˜: T-101, T-405

- [x] T-1002: ç’°å¢ƒå¤‰æ•°ã‚µãƒ‹ã‚¿ã‚¤ã‚ºï¼ˆinternal/security/sanitize.goï¼‰
  - é™¤å¤–ãƒªã‚¹ãƒˆ: *_TOKEN, *_KEY, *_SECRET, *_PASSWORD
  - subprocess å®Ÿè¡Œæ™‚ã«ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
  - æ¨å®š: ~40è¡Œ | ä¾å­˜: T-000

- [x] T-1003: ãƒ‘ã‚¹æ¤œè¨¼ï¼ˆinternal/security/validator.goï¼‰
  - symlink è§£æ±ºãƒ»ä¿è­·
  - ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«é˜²æ­¢
  - ä¿è­·ãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚¹ãƒˆ
  - æ¨å®š: ~60è¡Œ | ä¾å­˜: T-000

---

### T-1100: ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
**Pythonç‰ˆ: class Sessionï¼ˆ3458-3935è¡Œ, 478è¡Œï¼‰**

- [x] T-1101: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç®¡ç†ï¼ˆinternal/session/session.goï¼‰
  - Session struct: messages, systemPrompt, tokenEstimate
  - AddUserMessage(), AddAssistantMessage(), AddToolResults()
  - GetMessages()
  - MAX_MESSAGES=500 ã®ä¸Šé™ç®¡ç†
  - æ¨å®š: ~100è¡Œ | ä¾å­˜: T-000

- [x] T-1102: JSONL æ°¸ç¶šåŒ–ï¼ˆinternal/session/persistence.goï¼‰
  - SaveSession() / LoadSession()ï¼ˆã‚¢ãƒˆãƒŸãƒƒã‚¯æ›¸ãè¾¼ã¿ï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§ï¼ˆListSessions, GetLastSessionï¼‰
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆcwd_hash â†’ session_idï¼‰
  - ã‚µã‚¤ã‚ºåˆ¶é™: 50MB
  - æ¨å®š: ~120è¡Œ | ä¾å­˜: T-1101

- [x] T-1103: ãƒˆãƒ¼ã‚¯ãƒ³æ¨å®šï¼ˆinternal/session/token.goï¼‰
  - CJKå¯¾å¿œãƒˆãƒ¼ã‚¯ãƒ³ã‚«ã‚¦ãƒ³ãƒˆ
  - CJKæ–‡å­— = 1ãƒˆãƒ¼ã‚¯ãƒ³ã€éCJK = 4æ–‡å­—/ãƒˆãƒ¼ã‚¯ãƒ³
  - ç”»åƒ = ~800ãƒˆãƒ¼ã‚¯ãƒ³
  - æ¨å®š: ~40è¡Œ | ä¾å­˜: T-000

- [x] T-1104: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåœ§ç¸®ï¼ˆinternal/session/compaction.goï¼‰
  - compact_if_needed()ï¼ˆ70%é–¾å€¤ or 300ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¶…ï¼‰
  - ã‚µã‚¤ãƒ‰ã‚«ãƒ¼ãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã‚‹è¦ç´„ï¼ˆ3-5ç®‡æ¡æ›¸ãï¼‰
  - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: è¦ç´„å¤±æ•—æ™‚ã¯å¤ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å˜ç´”å‰Šé™¤
  - ç›´è¿‘30ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯å¸¸ã«ä¿æŒ
  - æ¨å®š: ~100è¡Œ | ä¾å­˜: T-1101, T-202

---

### T-1200: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—
**Pythonç‰ˆ: class Agentï¼ˆ4602-4961è¡Œ, 360è¡Œï¼‰**

- [x] T-1201: ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ï¼ˆinternal/agent/agent.goï¼‰
  - Agent struct: client, registry, permission, session, tui, config
  - Run(ctx, userInput) â€” ReAct ãƒ«ãƒ¼ãƒ—
  - MAX_ITERATIONS=50ã€MAX_RETRIES=2
  - ãƒ„ãƒ¼ãƒ«ã‚³ãƒ¼ãƒ«è§£æï¼ˆJSON + XML ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
  - ãƒãƒ«ãƒ•ã‚©ãƒ¼ãƒ  JSON å¾©æ—§ï¼ˆãƒˆãƒ¬ãƒ¼ãƒªãƒ³ã‚°ã‚«ãƒ³ãƒé™¤å»ã€æ‹¬å¼§è£œå®Œï¼‰
  - æ¨å®š: ~200è¡Œ | ä¾å­˜: T-201, T-204, T-302, T-1001, T-1101, T-401

- [x] T-1202: ãƒ„ãƒ¼ãƒ«å®Ÿè¡Œãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒ
  - æ¨©é™ãƒã‚§ãƒƒã‚¯ â†’ TUIè¡¨ç¤º â†’ å®Ÿè¡Œ
  - ä¸¦åˆ—å®Ÿè¡Œåˆ¤å®šï¼ˆRead/Glob/Grep ã®ã¿ï¼‰
  - goroutine + WaitGroup ã§ä¸¦åˆ—å®Ÿè¡Œ
  - é †æ¬¡å®Ÿè¡Œï¼ˆæ›¸ãè¾¼ã¿ãƒ„ãƒ¼ãƒ«ï¼‰
  - æ¨å®š: ~100è¡Œ | ä¾å­˜: T-1201

- [x] T-1203: ãƒ«ãƒ¼ãƒ—æ¤œå‡ºï¼ˆinternal/agent/loop_detector.goï¼‰
  - MAX_SAME_TOOL_REPEAT=3
  - ç›´è¿‘3å›ã® tool_call ã‚’æ¯”è¼ƒ
  - åŒä¸€ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡ºæ™‚ã«åœæ­¢
  - æ¨å®š: ~40è¡Œ | ä¾å­˜: T-000

---

### T-1300: ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
**Pythonç‰ˆ: class SubAgentToolï¼ˆ2911-3150è¡Œ, 240è¡Œï¼‰**

- [ ] T-1301: ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆinternal/agent/subagent.goï¼‰
  - goroutine ã§ç‹¬ç«‹å®Ÿè¡Œ
  - ç‹¬ç«‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å±¥æ­´
  - HARD_MAX_TURNS=20
  - ãƒ„ãƒ¼ãƒ«ã‚»ãƒƒãƒˆåˆ¶é™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: èª­ã¿å–ã‚Šå°‚ç”¨ï¼‰
  - allow_writes=true ã§æ›¸ãè¾¼ã¿ãƒ„ãƒ¼ãƒ«è¿½åŠ 
  - å°‚ç”¨ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
  - æ¨å®š: ~150è¡Œ | ä¾å­˜: T-1201

---

## Phase 4: ä»•ä¸Šã’æ©Ÿèƒ½ï¼ˆWeek 4-5ï¼‰

### T-1400: ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
**Pythonç‰ˆ: _build_system_prompt()ï¼ˆ621-786è¡Œ, 166è¡Œï¼‰**

- [x] T-1401: ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ§‹ç¯‰ï¼ˆinternal/config/prompt.go â€»ã¾ãŸã¯agentå†…ï¼‰
  - ã‚³ã‚¢ãƒ«ãƒ¼ãƒ«ï¼ˆ15ãƒ«ãƒ¼ãƒ«ï¼‰
  - ãƒ„ãƒ¼ãƒ«ä½¿ç”¨ã‚¬ã‚¤ãƒ‰ + ä¾‹
  - OSå›ºæœ‰ãƒ’ãƒ³ãƒˆæ³¨å…¥
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰æŒ‡ç¤ºï¼ˆCLAUDE.md / .vibe-coder.jsonï¼‰èª­ã¿è¾¼ã¿
  - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³é˜²æ­¢ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã®ã‚µãƒ‹ã‚¿ã‚¤ã‚ºï¼‰
  - æœ€å¤§ 4000 ãƒã‚¤ãƒˆ
  - æ¨å®š: ~120è¡Œ | ä¾å­˜: T-105, T-1003ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªãƒ‡ãƒ¼ã‚¿ï¼‰

- [x] T-1402: æ”¹å–„ç‰ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆROADMAP P0 å¯¾ç­–ï¼‰
  - ZERO preamble ãƒ«ãƒ¼ãƒ«å¼·åŒ–
  - ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—è³ªå•ç¦æ­¢
  - ã‚³ãƒãƒ³ãƒ‰è‡ªå·±å®Ÿè¡Œå¼·åˆ¶
  - å¿œç­”é•·åˆ¶é™ï¼ˆ1æ–‡ä»¥å†…ï¼‰
  - æ¨å®š: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ã‚­ã‚¹ãƒˆã®ã¿ | ä¾å­˜: T-1401

---

### T-1500: TUI æ‹¡å¼µ

- [x] T-1501: ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆinternal/ui/markdown.goï¼‰
  - ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯è¡¨ç¤ºï¼ˆã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆé¢¨ï¼‰
  - ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤º
  - ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³è£…é£¾ï¼ˆ`å¤ªå­—`, `ã‚³ãƒ¼ãƒ‰`ï¼‰
  - æ¨å®š: ~120è¡Œ | ä¾å­˜: T-401

- [x] T-1502: ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰
  - /help, /exit, /quit, /clear, /model, /models
  - /status, /save, /compact, /tokens, /debug
  - /yes, /no, /commit, /diff, /git, /undo, /init
  - /config
  - æ¨å®š: ~100è¡Œ | ä¾å­˜: T-402

- [ ] T-1503: å¤šè¨€èªå¯¾å¿œï¼ˆinternal/ui/i18n.goï¼‰
  - æ—¥æœ¬èª / è‹±èª / ä¸­å›½èª
  - ç’°å¢ƒå¤‰æ•° LANG ã‹ã‚‰ã®è‡ªå‹•æ¤œå‡º
  - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚«ã‚¿ãƒ­ã‚°ï¼ˆmap[string]map[string]stringï¼‰
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: T-401

- [x] T-1504: ãƒãƒŠãƒ¼è¡¨ç¤º + ãƒ¢ãƒ‡ãƒ«æƒ…å ±
  - èµ·å‹•æ™‚ãƒãƒŠãƒ¼
  - ãƒ¢ãƒ‡ãƒ«åã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆé•·ã®è¡¨ç¤º
  - ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±
  - æ¨å®š: ~40è¡Œ | ä¾å­˜: T-401

---

### T-1600: ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ¢ãƒ‡ãƒ«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
**Pythonç‰ˆ: Config å†…ã®ãƒ¢ãƒ‡ãƒ«é¸æŠãƒ­ã‚¸ãƒƒã‚¯**

- [x] T-1601: ãƒ¢ãƒ‡ãƒ«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆinternal/llm/routing.goï¼‰
  - ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« / ã‚µã‚¤ãƒ‰ã‚«ãƒ¼ã®ä½¿ã„åˆ†ã‘
  - ãƒ¢ãƒ‡ãƒ«ãƒ›ãƒƒãƒˆã‚¹ãƒ¯ãƒƒãƒ—ï¼ˆkeep_alive åˆ¶å¾¡ï¼‰
  - ãƒ¡ãƒ¢ãƒªé‡ã«å¿œã˜ãŸãƒ¢ãƒ‡ãƒ«è‡ªå‹•é¸æŠ
  - ã‚µã‚¤ãƒ‰ã‚«ãƒ¼ã®ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ goroutineï¼‰
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: T-201, T-104

---

### T-1700: å¿œç­”ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼ˆæ–°æ©Ÿèƒ½ï¼‰

- [x] T-1701: ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—è³ªå•é™¤å»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
  - ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¾Œå‡¦ç†
  - ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒ: "ä½•ã‹ãŠæ‰‹ä¼ã„", "ä»–ã«ä½•ã‹", "Is there anything", etc.
  - ãƒ‘ã‚¿ãƒ¼ãƒ³ä»¥é™ã‚’åˆ‡ã‚Šæ¨ã¦
  - æ¨å®š: ~40è¡Œ | ä¾å­˜: T-403

---

## Phase 5: main() + ãƒ“ãƒ«ãƒ‰ï¼ˆWeek 5-6ï¼‰

### T-1800: ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
**Pythonç‰ˆ: main()ï¼ˆ4980-5650è¡Œ, 671è¡Œï¼‰**

- [x] T-1801: main.goï¼ˆcmd/vibe/main.goï¼‰
  - Config ãƒ­ãƒ¼ãƒ‰
  - --list-sessions å‡¦ç†
  - ãƒãƒŠãƒ¼è¡¨ç¤º
  - Ollama æ¥ç¶šç¢ºèªï¼ˆmacOS/Linux: è‡ªå‹•èµ·å‹•ï¼‰
  - ãƒ¢ãƒ‡ãƒ«ç¢ºèªï¼ˆæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ pullï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³å¾©æ—§ï¼ˆ--resumeï¼‰
  - TUI + Registry + Permission åˆæœŸåŒ–
  - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ï¼ˆå¯¾è©± or ãƒ¯ãƒ³ã‚·ãƒ§ãƒƒãƒˆ -pï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¿å­˜ï¼ˆçµ‚äº†æ™‚ï¼‰
  - ã‚·ã‚°ãƒŠãƒ«ãƒãƒ³ãƒ‰ãƒ©ï¼ˆCtrl+C â†’ graceful shutdownï¼‰
  - æ¨å®š: ~200è¡Œ | ä¾å­˜: å…¨ Phase 1-4

- [x] T-1802: Graceful Shutdown + ãƒªã‚½ãƒ¼ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
  - os.Signal channel ã§ SIGINT/SIGTERM ã‚’æ•æ‰
  - context.Cancel ã§å…¨ goroutine ã‚’åœæ­¢
  - ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ Bash ã‚¿ã‚¹ã‚¯ã®çµ‚äº†å¾…ã¡
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³è‡ªå‹•ä¿å­˜
  - readline ãƒ’ã‚¹ãƒˆãƒªä¿å­˜
  - Ollama æ¥ç¶šã‚¯ãƒ­ãƒ¼ã‚º
  - æ¨å®š: ~50è¡Œ | ä¾å­˜: T-1801

---

### T-1900: ãƒ“ãƒ«ãƒ‰ + é…å¸ƒ

- [x] T-1901: Makefile
  - buildï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ãƒ“ãƒ«ãƒ‰ï¼‰
  - build-allï¼ˆã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ« 6ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ : darwin/arm64, darwin/amd64, linux/amd64, linux/arm64, linux/riscv64, windows/amd64ï¼‰
  - testï¼ˆgo test ./...ï¼‰
  - lintï¼ˆgo vet, staticcheckï¼‰
  - cleanï¼ˆdist/ å‰Šé™¤ï¼‰
  - å®Ÿè£…: Makefile (178è¡Œ)

- [x] T-1902: GitHub Actions CI/CD
  - ãƒ“ãƒ«ãƒ‰ + ãƒªãƒªãƒ¼ã‚¹ï¼ˆtag push â†’ ãƒã‚¤ãƒŠãƒªæ·»ä»˜ï¼‰
  - 6ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ä¸¦åˆ—ãƒ“ãƒ«ãƒ‰ + åœ§ç¸® + GitHub Release è‡ªå‹•ä½œæˆ
  - å®Ÿè£…: .github/workflows/release.yml (166è¡Œ)

- [x] T-1903: è»½é‡ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©
  - install-go.shï¼ˆOS/CPUè‡ªå‹•æ¤œå‡ºã€GitHub Release ãƒã‚¤ãƒŠãƒªDLã€PATHè¨­å®šï¼‰
  - ç¾è¡Œç‰ˆã®1170è¡Œã‹ã‚‰295è¡Œã«å¤§å¹…å‰Šæ¸›
  - å®Ÿè£…: scripts/install-go.sh (295è¡Œ)

---

## Phase 6: ãƒ†ã‚¹ãƒˆï¼ˆWeek 6-7ï¼‰

### T-2000: ãƒ†ã‚¹ãƒˆ
**Pythonç‰ˆ: test_vibe_coder.pyï¼ˆ6,919è¡Œ, 500+ãƒ†ã‚¹ãƒˆï¼‰**

- [x] T-2001: security ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ†ã‚¹ãƒˆ
  - å±é™ºã‚³ãƒãƒ³ãƒ‰æ¤œå‡ºï¼ˆrm -rf, sudo, mkfs, ddï¼‰
  - SSRFé˜²å¾¡ï¼ˆãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIPå…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
  - symlinkä¿è­·
  - ç’°å¢ƒå¤‰æ•°ã‚µãƒ‹ã‚¿ã‚¤ã‚º
  - ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™: 95%
  - æ¨å®š: ~300è¡Œ | ä¾å­˜: T-1001, T-1002, T-1003

- [x] T-2002: tool ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ†ã‚¹ãƒˆ
  - BashTool: æ­£å¸¸å®Ÿè¡Œã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€å±é™ºã‚³ãƒãƒ³ãƒ‰ã€ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰
  - ReadTool: ãƒ†ã‚­ã‚¹ãƒˆã€ç”»åƒã€PDFã€Jupyterã€ãƒã‚¤ãƒŠãƒªæ¤œå‡º
  - WriteTool: ã‚¢ãƒˆãƒŸãƒƒã‚¯æ›¸ãè¾¼ã¿ã€ã‚µã‚¤ã‚ºåˆ¶é™ã€symlinkä¿è­·
  - EditTool: ç½®æ›ã€replace_allã€NFCæ­£è¦åŒ–ã€diffç”Ÿæˆ
  - GlobTool: ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã€SKIP_DIRSã€çµæœåˆ¶é™
  - GrepTool: regexã€ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¡Œ
  - WebFetchTool: SSRFé˜²å¾¡
  - WebSearchTool: ãƒ¬ãƒ¼ãƒˆåˆ¶é™
  - ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™: 90%
  - æ¨å®š: ~800è¡Œ | ä¾å­˜: T-500ã€œT-900

- [x] T-2003: llm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ†ã‚¹ãƒˆ
  - JSON ãƒ‘ãƒ¼ã‚¹ï¼ˆæ­£å¸¸ã€ãƒãƒ«ãƒ•ã‚©ãƒ¼ãƒ å¾©æ—§ï¼‰
  - XML ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆ3ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
  - ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚° SSE ãƒ‘ãƒ¼ã‚¹
  - ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™: 85%
  - æ¨å®š: ~300è¡Œ | ä¾å­˜: T-200

- [x] T-2004: session ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ†ã‚¹ãƒˆ
  - JSONL èª­ã¿æ›¸ãï¼ˆã‚¢ãƒˆãƒŸãƒƒã‚¯æ€§ï¼‰
  - ãƒˆãƒ¼ã‚¯ãƒ³æ¨å®šï¼ˆCJKï¼‰
  - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåœ§ç¸®
  - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸Šé™
  - ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™: 90%
  - æ¨å®š: ~200è¡Œ | ä¾å­˜: T-1100

- [x] T-2005: agent ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ†ã‚¹ãƒˆ
  - ãƒ«ãƒ¼ãƒ—æ¤œå‡º
  - ãƒ„ãƒ¼ãƒ«å®Ÿè¡Œãƒ•ãƒ­ãƒ¼ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
  - ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
  - ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™: 80%
  - æ¨å®š: ~200è¡Œ | ä¾å­˜: T-1200, T-1300

- [x] T-2006: çµ±åˆãƒ†ã‚¹ãƒˆ
  - Ollama ãƒ¢ãƒƒã‚¯ï¼ˆhttptest.Serverï¼‰â†’ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Œå…¨ãƒ«ãƒ¼ãƒ—
  - ãƒ¯ãƒ³ã‚·ãƒ§ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚­ãƒ£ãƒ³ã‚»ãƒ«å«ã‚€ï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ resume + ä¸€è¦§å–å¾—
  - Plan ãƒ¢ãƒ¼ãƒ‰ãƒ•ãƒ©ã‚°å‹•ä½œç¢ºèª
  - Writeâ†’Read ãƒ„ãƒ¼ãƒ«ã®çµ±åˆãƒ†ã‚¹ãƒˆ
  - ãƒ„ãƒ¼ãƒ«ç™»éŒ²ã¨å…¨ã‚¹ã‚­ãƒ¼ãƒå–å¾—ã®ãƒ†ã‚¹ãƒˆ
  - å®Ÿè£…: internal/agent/integration_test.go

---

## Phase 7: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ + ãƒªãƒªãƒ¼ã‚¹ï¼ˆWeek 7-8ï¼‰

### T-2100: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [x] T-2101: README.md
  - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ï¼ˆ3ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
  - ä½¿ã„æ–¹ï¼ˆå¯¾è©±ã€ãƒ¯ãƒ³ã‚·ãƒ§ãƒƒãƒˆã€resumeï¼‰
  - ãƒ¡ãƒ¢ãƒªåˆ¥æ¨å¥¨ãƒ¢ãƒ‡ãƒ«è¡¨
  - æ¨å®š: ~200è¡Œ

- [x] T-2102: CLAUDE.md / ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰æŒ‡ç¤ºã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä»•æ§˜
  - æ¨å®š: ~50è¡Œ

---

## ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•ï¼ˆå®Ÿè£…é †åºï¼‰

```
Phase 0: T-000
    â†“
Phase 1: T-101 â†’ T-102, T-103, T-104, T-105
         T-201 â†’ T-202, T-203, T-204
         T-301 â†’ T-302, T-303
         T-401 â†’ T-402, T-403, T-404, T-405
    â†“
Phase 2: T-501 â†’ T-502, T-503
         T-601, T-602, T-603
         T-701, T-702
         T-801, T-802
         T-901, T-902, T-903
    â†“
Phase 3: T-1001, T-1002, T-1003
         T-1101 â†’ T-1102, T-1103, T-1104
         T-1201 â†’ T-1202, T-1203
         T-1301
    â†“
Phase 4: T-1401 â†’ T-1402
         T-1501, T-1502, T-1503, T-1504
         T-1601
         T-1701
    â†“
Phase 5: T-1801ï¼ˆå…¨ä½“çµ±åˆï¼‰
         T-1901, T-1902, T-1903
    â†“
Phase 6: T-2001ã€œT-2006
    â†“
Phase 7: T-2101, T-2102
```

---

## Phase 8: ãƒãƒ«ãƒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å¯¾å¿œ

> è¨­è¨ˆæ›¸: provider-design.md
> ç›®æ¨™: Ollamaä»¥å¤–ã®LLMãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆllama-server, ã‚¯ãƒ©ã‚¦ãƒ‰LLMç­‰ï¼‰ã«å¯¾å¿œ

### P1: LLMProvider ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æŠ½å‡º

**ç›®æ¨™**: æ—¢å­˜å‹•ä½œã‚’å£Šã•ãšã«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å°å…¥ã€‚Agent ãŒå…·è±¡å‹ã§ã¯ãªãã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ä¾å­˜ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

- [x] T-8101: LLMProvider ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©ï¼ˆinternal/llm/provider.goï¼‰
  - LLMProvider interface: Chat(), ChatStream(), CheckHealth(), Info()
  - ProviderInfo struct: Name, Type(local/cloud), BaseURL, Model, Features
  - Features struct: NativeFunctionCalling, ModelManagement, Streaming, Vision, ContextWindowReport
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: ãªã—

- [x] T-8102: æ‹¡å¼µã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©ï¼ˆinternal/llm/provider.goï¼‰
  - ModelManager interface: ListModels(), PullModel(), SearchModels(), DeleteModel()
  - ModelInfo struct: Name, Size, ContextSize, Family, ParameterSize, Quantization
  - ContextReporter interface: GetContextWindow(), GetTokenUsage()
  - æ¨å®š: ~60è¡Œ | ä¾å­˜: T-8101

- [x] T-8103: OpenAICompatProvider å®Ÿè£…ï¼ˆinternal/llm/openai_compat.goï¼‰
  - æ—¢å­˜ client.go + sync.go + streaming.go ã®ã‚³ãƒ¼ãƒ‰ã‚’ç§»å‹•ãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿
  - OpenAICompatProvider struct: baseURL, apiKey, model, httpClient, info
  - LLMProvider ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…
  - apiKey ãŒç©ºã§ã‚‚å‹•ä½œï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ç”¨ï¼‰
  - XMLãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’Chat()å†…ã«çµ±åˆ
  - æ¨å®š: ~300è¡Œ | ä¾å­˜: T-8101

- [x] T-8104: OllamaProvider å®Ÿè£…ï¼ˆinternal/llm/ollama.goï¼‰
  - OpenAICompatProvider åŸ‹ã‚è¾¼ã¿ + Ollamaå›ºæœ‰API
  - ModelManager ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®Ÿè£…ï¼ˆ/api/tags, /api/pullï¼‰
  - CheckHealth() ã§ /api/tags ã‚’ãƒã‚§ãƒƒã‚¯
  - æ¨å®š: ~120è¡Œ | ä¾å­˜: T-8103

- [x] T-8105: Agent ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä¾å­˜åŒ–
  - Agent.client *llm.Client â†’ Agent.provider llm.LLMProvider
  - NewAgent() ã®å¼•æ•°å¤‰æ›´
  - callLLM() ã‚’ provider.Chat() ã«å¤‰æ›´
  - æ¨å®š: ~30è¡Œå·®åˆ† | ä¾å­˜: T-8101

- [x] T-8106: main.go ã®æ›´æ–°
  - createLLMClient() â†’ createProvider() ã«å¤‰æ›´
  - OllamaProvider ã‚’ç”Ÿæˆã—ã¦ Agent ã«æ¸¡ã™
  - checkOllamaConnection â†’ provider.CheckHealth() ã«çµ±ä¸€
  - pullModelIfNeeded â†’ ModelManagerå‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã§åˆ†å²
  - ShutdownManager ã®å‹å¤‰æ›´
  - æ¨å®š: ~50è¡Œå·®åˆ† | ä¾å­˜: T-8104, T-8105

- [x] T-8107: Config æ§‹é€ ä½“ã®æ‹¡å¼µ
  - ProviderConfig struct: Name, Type, URL, APIKey, Model, Role, Priority, Options
  - Config.Providers []ProviderConfig è¿½åŠ 
  - OllamaHost â†’ Providers ã¸ã®å†…éƒ¨å¤‰æ›ï¼ˆå¾Œæ–¹äº’æ›ï¼‰
  - æ¨å®š: ~60è¡Œ | ä¾å­˜: T-8101

- [~] T-8108: æ—¢å­˜ãƒ†ã‚¹ãƒˆã®æ›´æ–°
  - routing_test.go ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å‹å¯¾å¿œ
  - agent ãƒ†ã‚¹ãƒˆã®ãƒ¢ãƒƒã‚¯æ›´æ–°ï¼ˆLLMProvider ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãƒ¢ãƒƒã‚¯ï¼‰
  - å…¨ãƒ†ã‚¹ãƒˆãƒ‘ã‚¹ç¢ºèª
  - æ¨å®š: ~100è¡Œå·®åˆ† | ä¾å­˜: T-8105, T-8106

---

### P2: llama-server / llama.app å¯¾å¿œ

**ç›®æ¨™**: llama-serverï¼ˆllama.cppï¼‰ãŠã‚ˆã³ llama.app ã‚’ LLM ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

- [x] T-8201: LlamaServerProvider å®Ÿè£…ï¼ˆinternal/llm/llama_server.goï¼‰
  - OpenAICompatProvider ã‚’ãã®ã¾ã¾ä½¿ç”¨ï¼ˆã‚¨ã‚¤ãƒªã‚¢ã‚¹çš„å®Ÿè£…ï¼‰
  - ãƒ¢ãƒ‡ãƒ«ç®¡ç†ãªã—ï¼ˆèµ·å‹•æ™‚ã«ãƒ¢ãƒ‡ãƒ«æŒ‡å®šæ¸ˆã¿ï¼‰
  - CheckHealth() ã§ /v1/models ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ãƒã‚§ãƒƒã‚¯
  - Info() ã§ name="llama-server" ã‚’è¿”ã™
  - æ¨å®š: ~40è¡Œ | ä¾å­˜: T-8103

- [x] T-8202: è‡ªå‹•æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯ï¼ˆinternal/llm/autodetect.goï¼‰
  - AutoDetect(ctx) â†’ []DetectedProvider
  - ä¸¦è¡Œãƒã‚§ãƒƒã‚¯ï¼ˆgoroutine + WaitGroupã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ2ç§’ï¼‰
  - ãƒã‚§ãƒƒã‚¯å¯¾è±¡:
    - Ollama: localhost:11434 â†’ GET /api/tags
    - llama-server: localhost:8080 â†’ GET /v1/models
    - LM Studio: localhost:1234 â†’ GET /v1/models
    - ã‚«ã‚¹ã‚¿ãƒ : VIBE_LLM_URL ç’°å¢ƒå¤‰æ•°
  - DetectedProvider struct: Name, URL, Models[]
  - æ¨å®š: ~120è¡Œ | ä¾å­˜: T-8103, T-8104

- [x] T-8203: CLIãƒ•ãƒ©ã‚°æ‹¡å¼µ
  - --provider <name> : ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æŒ‡å®š
  - --url <url> : ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼URL
  - --api-key <key> : APIã‚­ãƒ¼
  - --fallback <name> : ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
  - --auto-detect : è‡ªå‹•æ¤œå‡ºON/OFFï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: trueï¼‰
  - --list-providers : æ¤œå‡ºæ¸ˆã¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ä¸€è¦§
  - --host ã¯å¾Œæ–¹äº’æ›ã¨ã—ã¦æ®‹ã™ï¼ˆ= --provider ollama --url <host>ï¼‰
  - æ¨å®š: ~40è¡Œ | ä¾å­˜: T-8107

- [x] T-8204: main.go ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åˆæœŸåŒ–ãƒ•ãƒ­ãƒ¼æ”¹ä¿®
  - è‡ªå‹•æ¤œå‡º â†’ æ¤œå‡ºçµæœè¡¨ç¤º â†’ ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ç”Ÿæˆ
  - CLIæŒ‡å®šãŒã‚ã‚Œã°ãã¡ã‚‰ã‚’å„ªå…ˆ
  - config.json ã® providers[] ã‹ã‚‰ã®èª­ã¿è¾¼ã¿
  - ModelManager å¯¾å¿œãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®å ´åˆã®ã¿ãƒ¢ãƒ‡ãƒ«ç®¡ç†å‡¦ç†ã‚’å®Ÿè¡Œ
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: T-8202, T-8203

- [x] T-8205: è‡ªå‹•æ¤œå‡ºãƒ†ã‚¹ãƒˆ
  - httptest.Server ã§ãƒ¢ãƒƒã‚¯ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
  - Ollama / OpenAIäº’æ› / æœªæ¤œå‡ºã®ã‚±ãƒ¼ã‚¹
  - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒ†ã‚¹ãƒˆ
  - æ¨å®š: ~100è¡Œ | ä¾å­˜: T-8202

---

### P3: ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å¯¾å¿œ

**ç›®æ¨™**: OpenAI, Anthropic, DeepSeek, GLM/CodeGeeX ç­‰ã®ã‚¯ãƒ©ã‚¦ãƒ‰LLMã«å¯¾å¿œã€‚

- [x] T-8301: APIã‚­ãƒ¼ç®¡ç†ï¼ˆinternal/config/apikey.goï¼‰
  - ç’°å¢ƒå¤‰æ•°ã‹ã‚‰ã®èª­ã¿è¾¼ã¿ï¼ˆOPENAI_API_KEY, ANTHROPIC_API_KEY, DEEPSEEK_API_KEY ç­‰ï¼‰
  - config.json å†…ã® "${ENV_VAR}" å½¢å¼ã®å±•é–‹
  - APIã‚­ãƒ¼ã®å­˜åœ¨ç¢ºèªãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  - APIã‚­ãƒ¼ã‚’ãƒ­ã‚°/ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å«ã‚ãªã„ä¿è­·
  - æ¨å®š: ~60è¡Œ | ä¾å­˜: T-8107

- [x] T-8302: OpenAIäº’æ›ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ç¾¤
  - OpenAICompatProvider ã® URL + APIKey ã‚’å¤‰ãˆã‚‹ã ã‘ã§å¯¾å¿œ:
    - OpenAI: https://api.openai.com/v1
    - DeepSeek: https://api.deepseek.com/v1
    - GLM/CodeGeeX (æ™ºè°±AI): https://open.bigmodel.cn/api/paas/v4
    - Groq: https://api.groq.com/openai/v1
    - Together AI: https://api.together.xyz/v1
    - OpenRouter: https://openrouter.ai/api/v1
    - Google Gemini: https://generativelanguage.googleapis.com/v1beta/openai
  - ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã”ã¨ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆURL/ãƒ˜ãƒƒãƒ€ãƒ¼å®šç¾©ï¼ˆinternal/llm/providers.goï¼‰
  - ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å â†’ OpenAICompatProvider ç”Ÿæˆã®ãƒ•ã‚¡ã‚¯ãƒˆãƒªé–¢æ•°
  - æ¨å®š: ~100è¡Œ | ä¾å­˜: T-8103, T-8301

- [~] T-8303: AnthropicProvider å®Ÿè£…ï¼ˆinternal/llm/anthropic.goï¼‰
  - ChatRequest â†’ Anthropic Messages API å¤‰æ›
    - messages[].role: "system" â†’ system ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ï¼‰
    - tools[].function â†’ tools[].name + input_schema
    - tool_choice å¤‰æ›
  - Anthropic Messages API â†’ ChatResponse å¤‰æ›
    - content[].type: "text" â†’ choices[0].message.content
    - content[].type: "tool_use" â†’ choices[0].message.tool_calls[]
    - stop_reason â†’ finish_reason ãƒãƒƒãƒ”ãƒ³ã‚°
    - usage å¤‰æ›
  - ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¯¾å¿œï¼ˆSSEå½¢å¼ã¯åŒã˜ã ãŒã‚¤ãƒ™ãƒ³ãƒˆæ§‹é€ ãŒç•°ãªã‚‹ï¼‰
  - æ¨å®š: ~250è¡Œ | ä¾å­˜: T-8101

- [x] T-8304: ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãƒ•ã‚¡ã‚¯ãƒˆãƒªï¼ˆinternal/llm/factory.goï¼‰
  - NewProvider(cfg ProviderConfig) (LLMProvider, error)
  - ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åã«ã‚ˆã‚‹åˆ†å²:
    - "ollama" â†’ OllamaProvider
    - "llama-server", "llama-app", "lm-studio", "localai" â†’ LlamaServerProvider
    - "openai", "deepseek", "glm", "groq", "together", "openrouter", "gemini" â†’ OpenAICompatProvider(å„è¨­å®š)
    - "anthropic" â†’ AnthropicProvider
  - æœªçŸ¥ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å â†’ OpenAICompatProviderï¼ˆæ±ç”¨ï¼‰ã¨ã—ã¦ç”Ÿæˆ
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: T-8104, T-8201, T-8302, T-8303

- [~] T-8305: ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãƒ†ã‚¹ãƒˆ
  - [x] ãƒ•ã‚¡ã‚¯ãƒˆãƒªã®ãƒ†ã‚¹ãƒˆï¼ˆå…¨15ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åã€GetCloudProviderDef, NewCloudProviderï¼‰
  - [x] ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆï¼ˆGetProvidersByCategoryï¼‰
  - [x] BaseURLå½¢å¼ãƒ»EnvKeyå½¢å¼ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
  - [x] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¢ãƒ‡ãƒ«ãƒ»ã‚«ã‚¹ã‚¿ãƒ ãƒ¢ãƒ‡ãƒ«ã®è¨­å®šãƒ†ã‚¹ãƒˆ
  - [ ] Anthropic Messages APIå¤‰æ›ãƒ†ã‚¹ãƒˆï¼ˆT-8303 å®Œæˆå¾Œã«å®Ÿè£…äºˆå®šï¼‰
  - å®Ÿè£…: internal/llm/cloud_providers_test.go

---

### P4: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³

**ç›®æ¨™**: ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å¤±æ•—æ™‚ã«è‡ªå‹•çš„ã«æ¬¡ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¸åˆ‡ã‚Šæ›¿ãˆã€‚

- [~] T-8401: ProviderChain å®Ÿè£…ï¼ˆinternal/llm/chain.goï¼‰
  - ProviderChain struct: providers []ChainEntry, current int
  - ChainEntry struct: Provider, Role(main/sub/fallback), Priority, Condition
  - LLMProvider ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®Ÿè£…ï¼ˆé€éçš„ã«ä½¿ãˆã‚‹ï¼‰
  - Chat() ã§ã‚¨ãƒ©ãƒ¼æ™‚ã«æ¬¡ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¸ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  - ChatStream() ã‚‚åŒæ§˜ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  - CheckHealth() ã¯å…¨ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯
  - æ¨å®š: ~150è¡Œ | ä¾å­˜: T-8101

- [x] T-8402: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¡ä»¶åˆ¶å¾¡
  - ChainCondition struct: OnError, OnTimeout, OnOverload, TaskType
  - ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ã«ã‚ˆã‚‹åˆ†å²ï¼ˆæ¥ç¶šä¸å¯ vs ãƒ¢ãƒ‡ãƒ«ã‚¨ãƒ©ãƒ¼ vs ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼‰
  - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚ã®ã¿ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆãƒ¢ãƒ‡ãƒ«ã‚¨ãƒ©ãƒ¼ã¯åˆ¥å‡¦ç†ï¼‰
  - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¶…éæ™‚ã«å¤§ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¢ãƒ‡ãƒ«ã¸è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: T-8401

- [x] T-8403: ãƒã‚§ãƒ¼ãƒ³çŠ¶æ…‹ç®¡ç†ãƒ»é€šçŸ¥
  - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç™ºå‹•æ™‚ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥ï¼ˆ"âš  ã‚µãƒ–ãƒ¢ãƒ‡ãƒ«ã§å¿œç­”" / "â˜ ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯"ï¼‰
  - GetChainStatus() â†’ ç¾åœ¨ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æƒ…å ±
  - ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å¾©æ—§æ™‚ã®è‡ªå‹•åˆ‡ã‚Šæˆ»ã—ï¼ˆãƒ¡ã‚¤ãƒ³ãŒç”Ÿãã¦ã„ãŸã‚‰æˆ»ã‚‹ï¼‰
  - æ¨å®š: ~60è¡Œ | ä¾å­˜: T-8401

- [ ] T-8404: ã‚³ã‚¹ãƒˆãƒ»ãƒ¬ãƒ¼ãƒˆåˆ¶å¾¡ï¼ˆã‚¯ãƒ©ã‚¦ãƒ‰ç”¨ï¼‰
  - CloudLimiter struct: MaxRequestsPerMinute, MaxTokensPerDay, MaxCostPerDay, WarnThreshold
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä¸Šé™: 10 req/min, 100k tokens/day, $5/day
  - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç™ºå‹•æ™‚ã®ã€Œâ˜ APIã‚³ã‚¹ãƒˆç™ºç”Ÿã€è­¦å‘Šè¡¨ç¤º
  - æ—¥æ¬¡ä¸Šé™åˆ°é”ã§è‡ªå‹•åœæ­¢ + ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  - æ¨å®š: ~80è¡Œ | ä¾å­˜: T-8401

- [ ] T-8405: config.json ã‹ã‚‰ã®ãƒã‚§ãƒ¼ãƒ³æ§‹ç¯‰
  - providers[] é…åˆ—ã® role + priority ã‹ã‚‰ãƒã‚§ãƒ¼ãƒ³è‡ªå‹•æ§‹ç¯‰
  - role: "main" â†’ priority 1, "sub" â†’ priority 2, "fallback" â†’ priority 10
  - æ¨å®š: ~40è¡Œ | ä¾å­˜: T-8401, T-8107

- [ ] T-8406: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãƒ†ã‚¹ãƒˆ
  - æ­£å¸¸ç³»: ãƒ¡ã‚¤ãƒ³æˆåŠŸ â†’ ãƒ¡ã‚¤ãƒ³ã®å¿œç­”
  - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ãƒ¡ã‚¤ãƒ³å¤±æ•— â†’ ã‚µãƒ–æˆåŠŸ â†’ ã‚µãƒ–ã®å¿œç­”
  - å…¨å¤±æ•—: å…¨ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å¤±æ•— â†’ ã‚¨ãƒ©ãƒ¼
  - å¾©æ—§: ãƒ¡ã‚¤ãƒ³å¾©æ—§å¾Œã®åˆ‡ã‚Šæˆ»ã—
  - ã‚³ã‚¹ãƒˆä¸Šé™: ä¸Šé™åˆ°é”ã§åœæ­¢
  - æ¨å®š: ~150è¡Œ | ä¾å­˜: T-8401ã€œT-8404

---

### P5: ã‚¼ãƒ­ã‚³ãƒ³ãƒ•ã‚£ã‚° + UIçµ±åˆ

**ç›®æ¨™**: åˆå¿ƒè€…ãŒä½•ã‚‚è¨­å®šã—ãªãã¦ã‚‚è‡ªå‹•ã§æœ€é©ãªãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’é¸æŠã€‚

- [~] T-8501: ã‚¹ãƒãƒ¼ãƒˆåˆæœŸåŒ–ãƒ•ãƒ­ãƒ¼ï¼ˆmain.go çµ±åˆï¼‰
  - èµ·å‹•æ™‚ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼:
    1. config.json ã® providers[] ãŒã‚ã‚Œã° â†’ ãã“ã‹ã‚‰ãƒã‚§ãƒ¼ãƒ³æ§‹ç¯‰
    2. CLI --provider æŒ‡å®šãŒã‚ã‚Œã° â†’ ãã®å˜ä½“ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
    3. ã©ã¡ã‚‰ã‚‚ãªã‘ã‚Œã° â†’ AutoDetect() ã§è‡ªå‹•æ¤œå‡º
    4. ç’°å¢ƒå¤‰æ•°ã«APIã‚­ãƒ¼ãŒã‚ã‚Œã° â†’ ã‚¯ãƒ©ã‚¦ãƒ‰ã‚’ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã«è¿½åŠ 
    5. ä½•ã‚‚è¦‹ã¤ã‹ã‚‰ãªã‘ã‚Œã° â†’ ã‚¨ãƒ©ãƒ¼ + ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰è¡¨ç¤º
  - æ¨å®š: ~100è¡Œ | ä¾å­˜: T-8202, T-8304, T-8401

- [x] T-8502: æ¤œå‡ºçµæœã®åˆå¿ƒè€…å‘ã‘è¡¨ç¤º
  - èµ·å‹•æ™‚ãƒãƒŠãƒ¼ã«ãƒã‚§ãƒ¼ãƒ³æƒ…å ±è¿½åŠ ï¼ˆBannerOptions.ChainInfo ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
  - ProviderChain ä½¿ç”¨æ™‚: "ğŸ¦™ ollamaâ†’main / â˜ï¸ openaiâ†’fallback" å½¢å¼ã§è¡¨ç¤º
  - å˜ä¸€ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æ™‚ã¯ChainInfoéè¡¨ç¤º
  - å®Ÿè£…: internal/ui/banner.go, cmd/vibe/main.go

- [x] T-8503: /providers ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰
  - æ¤œå‡ºæ¸ˆã¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ä¸€è¦§è¡¨ç¤ºï¼ˆProviderChainå¯¾å¿œï¼‰
  - å„ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆæ¥ç¶šOK/NGã€ãƒ¢ãƒ‡ãƒ«åã€URLã€å¤±æ•—ã‚«ã‚¦ãƒ³ãƒˆï¼‰
  - ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’ â–¶ ã§ãƒã‚¤ãƒ©ã‚¤ãƒˆ
  - å˜ä¸€ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®å ´åˆã‚‚å¯¾å¿œ
  - /help ã« /providers ã‚’è¿½åŠ 
  - å®Ÿè£…: cmd/vibe/main.go (registerProvidersStatusCommand), internal/ui/commands.go

- [ ] T-8504: /switch ã‚³ãƒãƒ³ãƒ‰ï¼ˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åˆ‡ã‚Šæ›¿ãˆï¼‰
  - /switch ollama â†’ ãƒ¡ã‚¤ãƒ³ã‚’Ollamaã«åˆ‡ã‚Šæ›¿ãˆ
  - /switch openai â†’ OpenAIã«åˆ‡ã‚Šæ›¿ãˆ
  - æ¨å®š: ~30è¡Œ | ä¾å­˜: T-8401, T-1502

- [ ] T-8505: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ï¼ˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æœªæ¤œå‡ºæ™‚ï¼‰
  - æ—¥æœ¬èªã§ã®ã‚ã‹ã‚Šã‚„ã™ã„æ¡ˆå†…
  - Ollama ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †
  - llama-server èµ·å‹•æ‰‹é †
  - ã‚¯ãƒ©ã‚¦ãƒ‰APIã‚­ãƒ¼è¨­å®šæ‰‹é †
  - æ¨å®š: ~60è¡Œ | ä¾å­˜: T-8501

---

### P6: æ—¢å­˜ModelRouter ã®çµ±åˆãƒ»å»ƒæ­¢

**ç›®æ¨™**: æ—§ ModelRouter ã‚’ ProviderChain ã«çµ±åˆã—ã€ã‚³ãƒ¼ãƒ‰ã®äºŒé‡ç®¡ç†ã‚’è§£æ¶ˆã€‚

- [~] T-8601: ModelRouter â†’ ProviderChain ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  - æ—§ ModelRouter ã® main/sidecar æ©Ÿèƒ½ã‚’ ProviderChain ã® main/sub ã«çµ±åˆ
  - AutoSelectModel(taskType) ã‚’ ChainCondition.TaskType ã«ç§»è¡Œ
  - KeepAliveAlive() ã‚’ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãƒ¬ãƒ™ãƒ«ã«ç§»è¡Œ
  - SelectModelByMemory() ã¯ config/memory.go ã«æ®‹ã™ï¼ˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼éä¾å­˜ï¼‰
  - æ¨å®š: ~50è¡Œå·®åˆ† | ä¾å­˜: T-8401

- [ ] T-8602: æ—§ãƒ•ã‚¡ã‚¤ãƒ«æ•´ç†
  - internal/llm/client.go â†’ å»ƒæ­¢ï¼ˆopenai_compat.go ã«çµ±åˆæ¸ˆã¿ï¼‰
  - internal/llm/sync.go â†’ å»ƒæ­¢ï¼ˆopenai_compat.go ã«çµ±åˆæ¸ˆã¿ï¼‰
  - internal/llm/streaming.go â†’ å»ƒæ­¢ï¼ˆopenai_compat.go ã«çµ±åˆæ¸ˆã¿ï¼‰
  - internal/llm/routing.go â†’ å»ƒæ­¢ï¼ˆchain.go + config/memory.go ã«åˆ†é›¢ï¼‰
  - æ¨å®š: å‰Šé™¤ã®ã¿ | ä¾å­˜: T-8601

- [ ] T-8603: æœ€çµ‚ãƒ†ã‚¹ãƒˆ + ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ç¢ºèª
  - go test ./... å…¨ãƒ‘ã‚¹
  - Ollama æ¥ç¶šã§ã®æ—¢å­˜å‹•ä½œç¢ºèª
  - å¾Œæ–¹äº’æ›ï¼ˆ--host, OllamaHostï¼‰ã®å‹•ä½œç¢ºèª
  - æ¨å®š: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã®ã¿ | ä¾å­˜: T-8602

---

### ãƒãƒ«ãƒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•

```
P1 (ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æŠ½å‡º):
  T-8101 â†’ T-8102
  T-8101 â†’ T-8103 â†’ T-8104
  T-8101 â†’ T-8105 â†’ T-8106
  T-8101 â†’ T-8107
  T-8105, T-8106 â†’ T-8108

P2 (llama-server):
  T-8103 â†’ T-8201
  T-8103, T-8104 â†’ T-8202
  T-8107 â†’ T-8203
  T-8202, T-8203 â†’ T-8204
  T-8202 â†’ T-8205

P3 (ã‚¯ãƒ©ã‚¦ãƒ‰):
  T-8107 â†’ T-8301
  T-8103, T-8301 â†’ T-8302
  T-8101 â†’ T-8303
  T-8104, T-8201, T-8302, T-8303 â†’ T-8304
  T-8303, T-8304 â†’ T-8305

P4 (ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯):
  T-8101 â†’ T-8401 â†’ T-8402, T-8403, T-8404
  T-8401, T-8107 â†’ T-8405
  T-8401ã€œT-8404 â†’ T-8406

P5 (ã‚¼ãƒ­ã‚³ãƒ³ãƒ•ã‚£ã‚°):
  T-8202, T-8304, T-8401 â†’ T-8501
  T-8501 â†’ T-8502, T-8503, T-8504, T-8505

P6 (çµ±åˆ):
  T-8401 â†’ T-8601 â†’ T-8602 â†’ T-8603
```

### ãƒãƒ«ãƒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æ¨å®šã‚³ãƒ¼ãƒ‰é‡

| ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚º | æ¨å®šè¡Œæ•° | å†…å®¹ |
|---|---|---|
| P1: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æŠ½å‡º | ~800è¡Œ | provider.go, openai_compat.go, ollama.go, å·®åˆ† |
| P2: llama-server + è‡ªå‹•æ¤œå‡º | ~380è¡Œ | llama_server.go, autodetect.go, CLI, ãƒ†ã‚¹ãƒˆ |
| P3: ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ | ~690è¡Œ | providers.go, anthropic.go, factory.go, apikey.go, ãƒ†ã‚¹ãƒˆ |
| P4: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ | ~560è¡Œ | chain.go, æ¡ä»¶åˆ¶å¾¡, ã‚³ã‚¹ãƒˆåˆ¶å¾¡, ãƒ†ã‚¹ãƒˆ |
| P5: ã‚¼ãƒ­ã‚³ãƒ³ãƒ•ã‚£ã‚° + UI | ~270è¡Œ | åˆæœŸåŒ–ãƒ•ãƒ­ãƒ¼, è¡¨ç¤º, ã‚³ãƒãƒ³ãƒ‰ |
| P6: çµ±åˆãƒ»å»ƒæ­¢ | ~50è¡Œ | ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå¤§åŠã¯å‰Šé™¤ï¼‰ |
| **åˆè¨ˆ** | **~2,750è¡Œ** | ï¼ˆãƒ†ã‚¹ãƒˆå«ã‚€ï¼‰ |

### å®Ÿè£…å„ªå…ˆé †ä½

```
âœ…âœ…âœ… å®Œäº†ï¼ˆP1ï¼‰: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å°å…¥ â€” å…¨ã‚¿ã‚¹ã‚¯å®Œäº†
âœ…âœ…â˜† ã»ã¼å®Œäº†ï¼ˆP2ï¼‰: llama-server â€” AutoDetectæœªå®Ÿè£…
âœ…âœ…â˜† ã»ã¼å®Œäº†ï¼ˆP3ï¼‰: ã‚¯ãƒ©ã‚¦ãƒ‰å¯¾å¿œ â€” Anthropicå°‚ç”¨APIãƒ»ãƒ†ã‚¹ãƒˆæœª
â˜…â˜†â˜† ä¸­  ï¼ˆP4ï¼‰: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ â€” chain.go Phase1ã®ã¿
â˜…â˜†â˜† ä¸­  ï¼ˆP5ï¼‰: ã‚¼ãƒ­ã‚³ãƒ³ãƒ•ã‚£ã‚° â€” éƒ¨åˆ†å®Ÿè£…
â˜†â˜†â˜† ä½  ï¼ˆP6ï¼‰: æ—§ã‚³ãƒ¼ãƒ‰æ•´ç† â€” ModelRouterå…±å­˜ä¸­
```

---

## æ¨å®šã‚³ãƒ¼ãƒ‰é‡

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | æ¨å®šè¡Œæ•° | Pythonç‰ˆå‚è€ƒè¡Œæ•° |
|-----------|---------|----------------|
| cmd/vibe/ | ~250è¡Œ | main() 671è¡Œ |
| internal/config/ | ~510è¡Œ | Config 420è¡Œ + apikey + provider |
| internal/llm/ | ~1,550è¡Œ | OllamaClient 290è¡Œ + ãƒãƒ«ãƒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ ~1,200è¡Œ |
| internal/tool/ | ~1,540è¡Œ | å„ãƒ„ãƒ¼ãƒ«è¨ˆ ~2,100è¡Œ |
| internal/security/ | ~200è¡Œ | PermissionMgr 108è¡Œ + misc |
| internal/session/ | ~360è¡Œ | Session 478è¡Œ |
| internal/ui/ | ~650è¡Œ | TUI 656è¡Œ + ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼UI |
| internal/agent/ | ~490è¡Œ | Agent 360è¡Œ + SubAgent 240è¡Œ |
| **åˆè¨ˆ** | **~5,550è¡Œ** | **5,650è¡Œ** |
| ãƒ†ã‚¹ãƒˆ | ~2,550è¡Œ | 6,919è¡Œ |

Go ç‰ˆã¯ Python ç‰ˆã®ç´„77%ã®è¡Œæ•°ã§åŒç­‰ã®æ©Ÿèƒ½ã‚’å®Ÿç¾ã§ãã‚‹è¦‹è¾¼ã¿ã€‚ãƒ†ã‚¹ãƒˆã¯ Go ã® table-driven ãƒ†ã‚¹ãƒˆã«ã‚ˆã‚Šå¤§å¹…ã«åœ§ç¸®ã•ã‚Œã‚‹ã€‚

---

## ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹

æœ€çŸ­ã§å‹•ä½œç¢ºèªã§ãã‚‹ãƒ«ãƒ¼ãƒˆ:

```
T-000 â†’ T-101 â†’ T-201 â†’ T-203 â†’ T-301 â†’ T-401 â†’ T-501 â†’ T-1101 â†’ T-1201 â†’ T-1801
```

ã“ã®é †ã§å®Ÿè£…ã™ã‚Œã°ã€**Phase 1-3 ã®é€”ä¸­ï¼ˆç´„3é€±é–“ï¼‰ã§ Ollama ã¨å¯¾è©± + Bashå®Ÿè¡ŒãŒã§ãã‚‹ãƒŸãƒ‹ãƒãƒ ãƒãƒ¼ã‚¸ãƒ§ãƒ³**ãŒå‹•ä½œã™ã‚‹ã€‚æ®‹ã‚Šã®ãƒ„ãƒ¼ãƒ«ã¯é †æ¬¡è¿½åŠ ã—ã¦ã„ãå½¢ã«ãªã‚‹ã€‚

---

## Phase 9: UX æ”¹å–„ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³å¯¾å¿œæ¸ˆã¿ï¼‰

> å‰ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å¯¾å¿œã—ãŸæ©Ÿèƒ½ç¾¤ã€‚

### T-9000: ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»ãƒ¢ãƒ‡ãƒ«é–¢é€£

- [x] T-9001: ã‚»ãƒƒã‚·ãƒ§ãƒ³å†é–‹ãƒ‘ã‚¹äºŒé‡åŒ–ãƒã‚°ä¿®æ­£
  - `getSessionDir()` ãŒ `sessions/sessions/` ã®äºŒé‡ãƒ‘ã‚¹ã‚’ç”Ÿæˆã—ã¦ã„ãŸ
  - å¤‰æ›´: cmd/vibe/main.go

- [x] T-9002: `--resume list` ã‚µãƒãƒ¼ãƒˆ
  - `resumeSession()` ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§è¡¨ç¤ºæ©Ÿèƒ½ã‚’è¿½åŠ 
  - å¤‰æ›´: cmd/vibe/main.go

- [x] T-9003: Ollama ãƒ¢ãƒ‡ãƒ«ç¢ºèªãƒ»è‡ªå‹•pull + ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰é€²æ—è¡¨ç¤º
  - å¤‰æ›´: cmd/vibe/main.go

- [x] T-9004: `/models` ãƒ¢ãƒ‡ãƒ«ä¸€è¦§ + ç•ªå·é¸æŠã§åˆ‡æ›¿
  - `ModelSwitcher` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¿½åŠ 
  - å¤‰æ›´: internal/llm/provider.go, cmd/vibe/main.go

- [x] T-9005: `/model <name>` ç›´æ¥ãƒ¢ãƒ‡ãƒ«åˆ‡æ›¿
  - å¤‰æ›´: cmd/vibe/main.go

---

### T-9100: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å…¥åŠ›

- [x] T-9101: ã‚¿ãƒ–è£œå®Œï¼ˆã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ï¼‰
  - `CommandHandler.CommandNames()` ã§è£œå®Œå€™è£œã‚’ç”Ÿæˆ
  - å¤‰æ›´: internal/ui/lineeditor.go (æ–°è¦), internal/ui/commands.go

- [x] T-9102: ã‚³ãƒãƒ³ãƒ‰å±¥æ­´ï¼ˆâ†‘/â†“ã‚­ãƒ¼ï¼‰
  - å¤‰æ›´: internal/ui/lineeditor.go

- [x] T-9103: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¡Œã‚¨ãƒ‡ã‚£ã‚¿
  - raw mode, â†/â†’ã‚«ãƒ¼ã‚½ãƒ«, Home/End, Ctrl+A/E/U/W/K/L, Delete, CJKå¹…å¯¾å¿œ
  - å¤‰æ›´: internal/ui/lineeditor.go (æ–°è¦), terminal.go, readline.go

---

### T-9200: ã‚¯ã‚¤ãƒƒã‚¯ã‚³ãƒãƒ³ãƒ‰

- [x] T-9201: `/q` ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼ˆ/exit, /quit ã¨åŒç­‰ï¼‰
  - å¤‰æ›´: internal/ui/commands.go, cmd/vibe/main.go

- [x] T-9202: `/yes` `/no`ï¼ˆè‡ªå‹•æ‰¿èªãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ï¼‰
  - cfg.AutoApprove ã®åˆ‡æ›¿ + ã‚«ãƒ©ãƒ¼è¡¨ç¤º
  - å¤‰æ›´: cmd/vibe/main.go

- [x] T-9203: `/init`ï¼ˆCLAUDE.md ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆï¼‰
  - cwd ã« CLAUDE.md ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆã€æ—¢å­˜ãƒã‚§ãƒƒã‚¯ä»˜ã
  - å¤‰æ›´: cmd/vibe/main.go

- [x] T-9204: `/help` å…¨é¢æ”¹ä¿®ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†ã‘: Commands, Sandbox, Keyboard, Startup Flagsï¼‰
  - å¤‰æ›´: internal/ui/commands.go

---

### T-9300: ãƒã‚°ä¿®æ­£

- [x] T-9301: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãƒã‚°ä¿®æ­£
- [x] T-9302: Repeat è² æ•°ãƒ‘ãƒ‹ãƒƒã‚¯ä¿®æ­£
- [x] T-9303: æ¥ç¶šã‚¨ãƒ©ãƒ¼æ™‚ã®å†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

---

## Phase 10: Agent Skillsï¼ˆPython v1.0 ç§»æ¤ï¼‰

> Pythonç‰ˆ vibe-local v1.0 ã® Agent Skills æ©Ÿèƒ½ã‚’ç§»æ¤ã€‚

### è¨­è¨ˆ

```
~/.config/vibe-local-go/skills/   â† ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚­ãƒ«
.vibe-local/skills/               â† ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¹ã‚­ãƒ«ï¼ˆcwdãƒ™ãƒ¼ã‚¹ï¼‰
```

æ®µéšçš„é–‹ç¤º:
- L1 (èµ·å‹•æ™‚): YAML frontmatter â†’ ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«æ³¨å…¥
- L2 (ãƒˆãƒªã‚¬ãƒ¼æ™‚): SKILL.md æœ¬æ–‡ â†’ read_file ã§èª­è¾¼
- L3 (å¿…è¦æ™‚): è¿½åŠ ãƒ•ã‚¡ã‚¤ãƒ« â†’ read_file/bash ã§èª­è¾¼ãƒ»å®Ÿè¡Œ

### ã‚¿ã‚¹ã‚¯

- [x] T-10001: `internal/skill/skill.go` æ–°è¦ä½œæˆ
  - SkillMeta æ§‹é€ ä½“ï¼ˆName, Description, Dir, SkillFile, Sourceï¼‰
  - SkillManager â€” LoadSkills, GetSkillMetadata, GetSkillByName
  - YAML frontmatter ãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆstrings ãƒ™ãƒ¼ã‚¹ã€å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¸è¦ï¼‰

- [x] T-10002: `internal/config/prompt.go` æ‹¡å¼µ
  - BuildSystemPrompt(cfg, skillMetadata ...string) ã«å¯å¤‰é•·å¼•æ•°è¿½åŠ 
  - ã‚¹ã‚­ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«æ³¨å…¥

- [x] T-10003: `cmd/vibe/main.go` èµ·å‹•ãƒ•ãƒ­ãƒ¼çµ±åˆ
  - SkillManager åˆæœŸåŒ– â†’ LoadSkills â†’ createSession / createCommandHandler ã«æ¸¡ã™

- [x] T-10004: `/skills` ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰
  - registerSkillCommands() ã§ã‚¹ã‚­ãƒ«ä¸€è¦§ãƒ»é…ç½®å ´æ‰€ãƒ»ä½œæˆæ–¹æ³•ã‚’è¡¨ç¤º

- [x] T-10005: `/help` æ›´æ–°ï¼ˆSkills ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ ï¼‰

---

## Phase 11: MCP Clientï¼ˆPython v1.0 ç§»æ¤ï¼‰

> Model Context Protocol ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…ã€‚å¤–éƒ¨ãƒ„ãƒ¼ãƒ«ã‚µãƒ¼ãƒãƒ¼ã¨ã®é€£æºã€‚

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆClaude Codeäº’æ›ï¼‰

```json
// ~/.config/vibe-local-go/mcp.json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/tmp"],
      "env": {}
    }
  }
}
```

### ã‚¿ã‚¹ã‚¯

- [x] T-11001: `internal/mcp/client.go` æ–°è¦ä½œæˆ
  - JSON-RPC 2.0 over stdio ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
  - Initialize() â†’ tools/list â†’ tools/call
  - ãƒ—ãƒ­ã‚»ã‚¹èµ·å‹•ãƒ»åœæ­¢ç®¡ç†

- [x] T-11002: `internal/mcp/manager.go` æ–°è¦ä½œæˆ
  - è¤‡æ•°ã‚µãƒ¼ãƒãƒ¼ç®¡ç†ï¼ˆLoadConfig, StartAll, StopAllï¼‰
  - mcp.json ãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ â†’ ã‚°ãƒ­ãƒ¼ãƒãƒ«æ¢ç´¢ï¼‰
  - FindToolServer() ã§ãƒ„ãƒ¼ãƒ«åã‹ã‚‰ã‚µãƒ¼ãƒãƒ¼é€†å¼•ã

- [x] T-11003: `internal/mcp/tool_adapter.go` æ–°è¦ä½œæˆ
  - MCPToolAdapter â€” tool.Tool ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®Ÿè£…
  - ãƒ„ãƒ¼ãƒ«å: `mcp_{server}_{tool}` å½¢å¼
  - RegisterMCPTools() ã§æ—¢å­˜ tool.Registry ã«ãã®ã¾ã¾ç™»éŒ²
  - inputSchema â†’ tool.ParameterSchema å¤‰æ›

- [x] T-11004: `cmd/vibe/main.go` MCPçµ±åˆ
  - èµ·å‹•ãƒ•ãƒ­ãƒ¼ + ãƒ„ãƒ¼ãƒ«ç™»éŒ² + ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³æ™‚å­ãƒ—ãƒ­ã‚»ã‚¹çµ‚äº†

- [x] T-11005: `/mcp` ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ + `/help` æ›´æ–°
  - MCPæ¥ç¶šçŠ¶æ³ãƒ»ãƒ„ãƒ¼ãƒ«ä¸€è¦§è¡¨ç¤º

---

## Phase 12: Plan/Act + Git Checkpointï¼ˆPython v1.0 ç§»æ¤ï¼‰ âœ… COMPLETE

- [x] T-12001: Agent ã« PlanMode ãƒ•ãƒ©ã‚°è¿½åŠ 
  - `agent.planMode bool` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
  - SetPlanMode/IsPlanMode ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…
  - executeSingleTool() ã§ãƒã‚§ãƒƒã‚¯ï¼šplanMode=true æ™‚ã¯ write_file, edit_file, bash ã‚’æ‹’å¦
  - read_file, glob, grep ã¯è¨±å¯
  - åˆæœŸåŒ–ï¼šplanMode=falseï¼ˆç„¡åŠ¹ï¼‰
  - å¤‰æ›´: internal/agent/agent.go (+30è¡Œ)

- [x] T-12002: `/plan [on|off]` ã‚³ãƒãƒ³ãƒ‰ç™»éŒ²
  - registerPlanCommands() å®Ÿè£…
  - `/plan on`ï¼šè¨ˆç”»ãƒ¢ãƒ¼ãƒ‰ ONï¼ˆwriteæ“ä½œç¦æ­¢ï¼‰
  - `/plan off`ï¼šå®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰ ONï¼ˆã™ã¹ã¦å®Ÿè¡Œå¯èƒ½ï¼‰
  - `/plan`ï¼šç¾åœ¨çŠ¶æ…‹è¡¨ç¤º
  - å¤‰æ›´: cmd/vibe/main.go (+40è¡Œ)

- [x] T-12003: `internal/git/checkpoint.go` æ–°è¦ä½œæˆ
  - CreateCheckpoint() â€” `git stash push -m "vibe-checkpoint-{timestamp}"`
  - RollbackLatest() â€” `git stash pop` ã§æœ€æ–°ã«å¾©å¸°
  - ListCheckpoints() â€” vibe-checkpoint ä¸€è¦§è¡¨ç¤º
  - Rollback(checkpointID) â€” æŒ‡å®šãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã«å¾©å¸°
  - IsGitRepo() â€” Git ãƒªãƒã‚¸ãƒˆãƒªåˆ¤å®š
  - git ãƒªãƒã‚¸ãƒˆãƒªå¤–ã§ã¯ç„¡åŠ¹åŒ–
  - å®Ÿè£…é‡ï¼š~250è¡Œ

- [x] T-12005: `/help` ã« Plan Mode ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ 
  - "â”â” Plan Mode â”â”" ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ 
  - /plan [on|off] ã‚³ãƒãƒ³ãƒ‰èª¬æ˜
  - å¤‰æ›´: internal/ui/commands.go (+2è¡Œ)

---

## Phase 13: Auto Test + UX æ”¹å–„ï¼ˆPython v1.0-v1.3 ç§»æ¤ï¼‰ âœ… COMPLETE

- [x] T-13001: `internal/agent/autotest.go` æ–°è¦ä½œæˆ
  - ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯è‡ªå‹•æ¤œå‡º (pytest / npm test / go test / cargo test)
  - TestFrameworkDetector å®Ÿè£…ï¼š.py â†’ pytest, package.json â†’ npm test, go.mod â†’ go test, Cargo.toml â†’ cargo test
  - write_file/edit_file å¾Œã«è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆrunAutoTestIfNeededï¼‰
  - ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚: ã‚¨ãƒ©ãƒ¼å‡ºåŠ›ã‚’ session.AddToolResults ã§ LLM ã«è¿”ã™
  - `/autotest [on|off]` ã‚³ãƒãƒ³ãƒ‰å®Ÿè£…
  - å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«: internal/agent/autotest.go (227è¡Œ), agent.go, main.go, commands.go

- [x] T-13002: ESC å‰²ã‚Šè¾¼ã¿
  - Agent.Run() ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç†
  - context.Done() ãƒã‚§ãƒƒã‚¯ã§å‰²ã‚Šè¾¼ã¿æ¤œå‡ºã€"Agent execution interrupted" ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
  - LineEditor ã§æ—¢ã« ESC ã‚­ãƒ¼å‡¦ç†ãŒå®Ÿè£…æ¸ˆã¿ â†’ context cancel ã§å¿œç­”
  - å¤‰æ›´: internal/agent/agent.go

- [x] T-13003: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡Œ (`ğŸ’­ Thinking... 3s Â· â†“ 1.2k tokens`)
  - StatusLineUpdater ã‚¯ãƒ©ã‚¹å®Ÿè£…ï¼ˆterminal.go ã«è¿½åŠ ï¼‰
  - 100ms ã”ã¨ã«ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼ˆtime.Ticker + goroutineï¼‰
  - çµŒéæ™‚é–“ã¨ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’è¡¨ç¤ºã€sync.RWMutex ã§åŒæœŸå‡¦ç†
  - LLM å‘¼ã³å‡ºã—æ™‚ã« statusLine.Start/Stop ã§çµ±åˆ
  - å¤‰æ›´: internal/ui/terminal.go, agent.go

---

## å°†æ¥æ¤œè¨ï¼ˆä½å„ªå…ˆåº¦ï¼‰

| # | æ©Ÿèƒ½ | çŠ¶æ…‹ | å‚™è€ƒ |
|---|------|------|------|
| F1 | File Watcher (`/watch`) | â¬œ | Python v1.1 |
| F2 | Parallel Agents | â¬œ | Python v1.1 (é›£æ˜“åº¦é«˜) |
| F3 | Type-ahead å…¥åŠ› | â¬œ | Python v1.3 |
| F4 | Python venv è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— | â¬œ | Bashå®Ÿè¡Œæ™‚ã«ModuleNotFoundErrorã‚’æ¤œå‡ºã—ã€venvä½œæˆ+pip installã‚’è‡ªå‹•å®Ÿè¡Œ |
